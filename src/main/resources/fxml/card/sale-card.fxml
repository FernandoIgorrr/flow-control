<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns="http://javafx.com/javafx/21"
  xmlns:fx="http://javafx.com/fxml/1"
  fx:controller="br.com.midnightsyslabs.flow_control.ui.controller.card.SaleCardController"
  maxWidth="Infinity"
  prefHeight="150"
  styleClass="client-card">
  <!-- CONTENT -->
  <VBox spacing="12">
    <padding>
      <Insets top="0" right="22" bottom="22" left="22" />
    </padding>

    <!-- HEADER -->
    <HBox alignment="CENTER_LEFT" spacing="8">

      <VBox spacing="8">
        <padding>
          <Insets top="22" right="0" bottom="0" left="0" />
        </padding>
        <Label fx:id="lblClientName" styleClass="production-info-date" />
        <HBox spacing="8">
          <StackPane
            fx:id="iconContainer"
            prefWidth="18"
            prefHeight="18"
            styleClass="icon-container-on-card">
            <ImageView fx:id="imgType"
              fitHeight="18"
              fitWidth="18"
              preserveRatio="true" />
          </StackPane>
          <Label fx:id="lblDate" styleClass="purchase-info-title" />
        </HBox>

      </VBox>

      <!-- SPACER -->
      <Region HBox.hgrow="ALWAYS" />

      <!--  TOP RIGHT HEADER CONTENT -->
      <VBox
        alignment="TOP_RIGHT">
        <padding>
          <Insets top="22" right="0" bottom="0" left="0" />
        </padding>
        <Label text="Valor Total" />
        <Label fx:id="lblTotalRevenue" styleClass="total-price-info" />
      </VBox>
      <VBox fx:id="buttons">
         <padding>
          <Insets top="22" right="0" bottom="0" left="0" />
        </padding>
      <Button fx:id="btnClose" onAction="#onClose" styleClass="btn-action-close">
        <graphic>
          <StackPane prefWidth="28" prefHeight="28">
            <ImageView  fitHeight="28" fitWidth="28"
              styleClass="icon-close" preserveRatio="true"
            >
              <image>
                <Image url="@/images/line-md--confirm-circle.png" />
              </image>
            </ImageView>
          </StackPane>
        </graphic>
      </Button>

       <Button fx:id="btnDelete" onAction="#onDelete" styleClass="btn-action-delete">
        <graphic>
          <StackPane prefWidth="28" prefHeight="28">
            <ImageView fitHeight="28" fitWidth="28"
              styleClass="icon-delete" preserveRatio="true"
            >
              <image>
                <Image url="@/images/delete.png" />
              </image>
            </ImageView>
          </StackPane>
        </graphic>
      </Button>

      </VBox>
    </HBox>
    <Separator prefWidth="120" />
    <!-- CONTEÃšDO -->
    <FlowPane
      fx:id="productsContainer"
      hgap="12"
      vgap="12"
      prefWidth="Infinity"
      styleClass="products-container">
    </FlowPane>


  </VBox>
</StackPane>